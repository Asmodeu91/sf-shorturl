# API –°–µ—Ä–≤–∏—Å –ö–æ—Ä–æ—Ç–∫–∏—Ö –°—Å—ã–ª–æ–∫

–≠—Ç–æ—Ç —Å–µ—Ä–≤–∏—Å –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç API –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏, —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–æ—Ä–æ—Ç–∫–∏—Ö —Å—Å—ã–ª–æ–∫.

---

## üìö –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª API

### 1. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
**GET** `/api/url/registration`  
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç `uuid` –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–∞–Ω–∞–ª–æ–≥ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏).

---

### 2. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ—Ä–æ—Ç–∫–æ–π —Å—Å—ã–ª–∫–∏
**POST** `/api/url/shorten`  
–°–æ–∑–¥–∞–µ—Ç –∫–æ—Ä–æ—Ç–∫—É—é —Å—Å—ã–ª–∫—É.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- **originalUrl** (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ) ‚Äî –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–∞—è —Å—Å—ã–ª–∫–∞.
- **userId** (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ) ‚Äî `uuid` –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –ø–æ–ª—É—á–µ–Ω–Ω—ã–π —á–µ—Ä–µ–∑ `/api/url/registration`.
- **expirationDate** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) ‚Äî –¥–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è —Å—Å—ã–ª–∫–∏ (—Ñ–æ—Ä–º–∞—Ç: `2024-01-01T12:00:00`).
- **limitVisits** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) ‚Äî –ª–∏–º–∏—Ç –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤ (—É–∫–∞–∂–∏—Ç–µ `-1`, —á—Ç–æ–±—ã —Å–Ω—è—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ).

**–û—Ç–≤–µ—Ç:**  
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ—Ä–æ—Ç–∫—É—é —Å—Å—ã–ª–∫—É –≤ —Ñ–æ—Ä–º–∞—Ç–µ:  
`http://localhost:8080/api/url/{shortUrl}`  
–ì–¥–µ `http://localhost:8080` –∑–∞–¥–∞–µ—Ç—Å—è –≤ `application.yaml`.

---

### 3. –ü–µ—Ä–µ—Ö–æ–¥ –ø–æ –∫–æ—Ä–æ—Ç–∫–æ–π —Å—Å—ã–ª–∫–µ
**GET** `/api/url/{shortUrl}`  
–ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–∞ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—É—é —Å—Å—ã–ª–∫—É.

---

### 4. –°–ø–∏—Å–æ–∫ —Å—Å—ã–ª–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
**GET** `/api/url/list`

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- **userId** (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ) ‚Äî `uuid` –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

**–û—Ç–≤–µ—Ç:**  
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Å—Å—ã–ª–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏.

---

### 5. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ—Ä–æ—Ç–∫–æ–π —Å—Å—ã–ª–∫–∏
**PUT** `/api/url/update/{id}`

–†–µ–¥–∞–∫—Ç–∏—Ä—É–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å—Å—ã–ª–∫–∏. `id` –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å —á–µ—Ä–µ–∑ `/api/url/list`.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- **newOriginalUrl** (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ) ‚Äî –Ω–æ–≤–∞—è –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–∞—è —Å—Å—ã–ª–∫–∞.
- **userId** (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ) ‚Äî `uuid` –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
- **newExpirationDate** (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ) ‚Äî –Ω–æ–≤–∞—è –¥–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è —Å—Å—ã–ª–∫–∏.
- **limitVisits** (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ) ‚Äî –Ω–æ–≤—ã–π –ª–∏–º–∏—Ç –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤.

---

### 6. –£–¥–∞–ª–µ–Ω–∏–µ –∫–æ—Ä–æ—Ç–∫–æ–π —Å—Å—ã–ª–∫–∏
**DELETE** `/api/url/delete/{id}`

–£–¥–∞–ª—è–µ—Ç –∫–æ—Ä–æ—Ç–∫—É—é —Å—Å—ã–ª–∫—É. `id` –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å —á–µ—Ä–µ–∑ `/api/url/list`.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- **userId** (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ) ‚Äî `uuid` –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

---

## ‚öôÔ∏è –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### –°–±–æ—Ä–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
```bash
./gradlew bootjar
```


## **docker**
```bash
docker-compose up -d 
```
–Ω–∞ –ø–æ—Ä—Ç—É 8080 –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ















